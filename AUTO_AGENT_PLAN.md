# ü§ñ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–≤—Ç–æ-–∞–≥–µ–Ω—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

## üéØ –¶–ï–õ–¨

–°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–≥–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π:
1. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç –Ω–æ–≤—ã–µ —Å—Ç–∞—Ç—å–∏ –∏–∑ RSS
2. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –≤–∏–¥–µ–æ
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç—ã –¥–ª—è –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å—Ç–∞—Ç–µ–π
4. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–∏

---

## üìã –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              RSS MONITOR (—É–∂–µ –µ—Å—Ç—å)                     ‚îÇ
‚îÇ  - –ü–∞—Ä—Å–∏—Ç RSS –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç                          ‚îÇ
‚îÇ  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤—ã–µ —Å—Ç–∞—Ç—å–∏ –≤ –ë–î                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         AUTO-AGENT CRON (–Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)                ‚îÇ
‚îÇ  - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç                          ‚îÇ
‚îÇ  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π                    ‚îÇ
‚îÇ  - –ù–∞—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏                  ‚îÇ
‚îÇ  - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç—ã                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         AI ANALYSIS (—É–∂–µ –µ—Å—Ç—å)                          ‚îÇ
‚îÇ  - analyzeArticlePotential()                           ‚îÇ
‚îÇ  - scoreNewsItem()                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      PROJECT CREATION (—É–∂–µ –µ—Å—Ç—å)                       ‚îÇ
‚îÇ  - createProjectFromNews()                             ‚îÇ
‚îÇ  - generateScript() (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üóÑÔ∏è –°–•–ï–ú–ê –ë–î (–¥–æ–±–∞–≤–∏—Ç—å –≤ users —Ç–∞–±–ª–∏—Ü—É)

```sql
ALTER TABLE users ADD COLUMN IF NOT EXISTS
  -- Auto-creation settings
  auto_create_projects BOOLEAN DEFAULT false,
  auto_create_min_score INTEGER DEFAULT 70, -- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π AI score –¥–ª—è –∞–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏—è
  auto_generate_scripts BOOLEAN DEFAULT false, -- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏
  auto_create_sources TEXT[], -- –ú–∞—Å—Å–∏–≤ sourceId –¥–ª—è –∞–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏—è (null = –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏)
  
  -- Filters
  auto_create_keywords TEXT[], -- –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (—Å—Ç–∞—Ç—å–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å)
  auto_create_exclude_keywords TEXT[], -- –ò—Å–∫–ª—é—á–∞—é—â–∏–µ —Å–ª–æ–≤–∞
  
  -- Limits
  auto_create_daily_limit INTEGER DEFAULT 10, -- –ú–∞–∫—Å–∏–º—É–º –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ –¥–µ–Ω—å
  auto_create_count_today INTEGER DEFAULT 0, -- –°—á–µ—Ç—á–∏–∫ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
  
  -- Statistics
  auto_create_total INTEGER DEFAULT 0, -- –í—Å–µ–≥–æ —Å–æ–∑–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  auto_create_last_run TIMESTAMP, -- –ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–∞
```

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í

### 1. –°—Ö–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–§–∞–π–ª:** `shared/schema/user-settings.ts` (–Ω–æ–≤—ã–π)

```typescript
export const userSettings = pgTable('user_settings', {
  userId: varchar('user_id').primaryKey().references(() => users.id),
  autoCreateProjects: boolean('auto_create_projects').default(false),
  autoCreateMinScore: integer('auto_create_min_score').default(70),
  autoGenerateScripts: boolean('auto_generate_scripts').default(false),
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
});
```

### 2. Cron job –¥–ª—è –∞–≤—Ç–æ-–∞–≥–µ–Ω—Ç–∞

**–§–∞–π–ª:** `server/cron/auto-agent.ts` (–Ω–æ–≤—ã–π, ~200 —Å—Ç—Ä–æ–∫)

```typescript
/**
 * Auto-Agent Cron Job
 * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç—ã –∏–∑ –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç–µ–π
 */
export function initAutoAgent(storage: IStorage) {
  // –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
  cron.schedule('*/30 * * * *', async () => {
    await processAutoCreation();
  });
}

async function processAutoCreation() {
  // 1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º auto_create_projects
  // 2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
  //    - –ù–∞–π—Ç–∏ –Ω–æ–≤—ã–µ —Å—Ç–∞—Ç—å–∏ (–±–µ–∑ –ø—Ä–æ–µ–∫—Ç–∞, —Å —Ö–æ—Ä–æ—à–∏–º score)
  //    - –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã (keywords, min_score)
  //    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã (daily_limit)
  //    - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç—ã
  //    - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏
}
```

### 3. –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏—è

**–§–∞–π–ª:** `server/services/auto-agent-service.ts` (–Ω–æ–≤—ã–π, ~150 —Å—Ç—Ä–æ–∫)

```typescript
export class AutoAgentService {
  /**
   * –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   */
  async processUserAutoCreation(userId: string): Promise<{
    created: number;
    skipped: number;
    errors: string[];
  }> {
    // 1. –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    // 2. –ù–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å—Ç–∞—Ç—å–∏
    // 3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
    // 4. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç—ã
    // 5. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏
  }
  
  /**
   * –ù–∞–π—Ç–∏ —Å—Ç–∞—Ç—å–∏ –¥–ª—è –∞–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏—è
   */
  private async findEligibleArticles(userId: string, settings: UserSettings): Promise<RssItem[]> {
    // - aiScore >= minScore
    // - usedInProject === null
    // - –°–æ–¥–µ—Ä–∂–∏—Ç keywords (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)
    // - –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç exclude_keywords
    // - –ò–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)
  }
}
```

### 4. Storage –º–µ—Ç–æ–¥—ã

**–§–∞–π–ª:** `server/storage/user-settings.storage.ts` (–Ω–æ–≤—ã–π, ~100 —Å—Ç—Ä–æ–∫)

```typescript
export interface UserSettingsStorage {
  getUserSettings(userId: string): Promise<UserSettings | null>;
  updateUserSettings(userId: string, settings: Partial<UserSettings>): Promise<UserSettings>;
  getUsersWithAutoCreate(): Promise<User[]>;
  incrementAutoCreateCount(userId: string): Promise<void>;
  resetDailyCounts(): Promise<void>; // –î–ª—è cron job –≤ –ø–æ–ª–Ω–æ—á—å
}
```

### 5. API —Ä–æ—É—Ç—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–§–∞–π–ª:** `server/routes/user-settings.routes.ts` (–Ω–æ–≤—ã–π, ~150 —Å—Ç—Ä–æ–∫)

```typescript
// GET /api/settings/auto-agent - –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
// PUT /api/settings/auto-agent - –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
// GET /api/settings/auto-agent/stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏—è
```

---

## üîÑ WORKFLOW –ê–í–¢–û-–ê–ì–ï–ù–¢–ê

### –®–∞–≥ 1: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç)

```
1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å auto_create_projects = true
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å daily_limit (–Ω–µ –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏)
   ‚îú‚îÄ –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
   ‚îî‚îÄ –ù–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å—Ç–∞—Ç—å–∏
```

### –®–∞–≥ 2: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π

```
–î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–∞—Ç—å–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
‚îú‚îÄ ‚úÖ aiScore >= minScore (–Ω–∞–ø—Ä–∏–º–µ—Ä, >= 70)
‚îú‚îÄ ‚úÖ usedInProject === null (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞)
‚îú‚îÄ ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç keywords (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)
‚îú‚îÄ ‚úÖ –ù–ï —Å–æ–¥–µ—Ä–∂–∏—Ç exclude_keywords
‚îú‚îÄ ‚úÖ –ò–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)
‚îî‚îÄ ‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ –Ω–µ –ø–æ–∑–∂–µ 7 –¥–Ω–µ–π –Ω–∞–∑–∞–¥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤

```
–î–ª—è –∫–∞–∂–¥–æ–π –ø–æ–¥—Ö–æ–¥—è—â–µ–π —Å—Ç–∞—Ç—å–∏:
‚îú‚îÄ –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ ProjectService.createProjectFromNews()
‚îú‚îÄ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å sourceType = 'news'
‚îú‚îÄ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å currentStage = 1 (–∏–ª–∏ 3, –µ—Å–ª–∏ auto_generate_scripts)
‚îî‚îÄ –û–±–Ω–æ–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫ auto_create_count_today
```

### –®–∞–≥ 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```
–ï—Å–ª–∏ auto_generate_scripts = true:
‚îú‚îÄ –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ stage 3
‚îú‚îÄ –í—ã–∑–≤–∞—Ç—å generateScript() –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
```

---

## ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (UI)

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–§–∞–π–ª:** `client/src/pages/settings/components/AutoAgentSettings.tsx` (~200 —Å—Ç—Ä–æ–∫)

```tsx
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ü§ñ Auto-Agent Settings                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                             ‚îÇ
‚îÇ [x] Enable auto-creation                    ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ Minimum AI Score: [70] ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ            ‚îÇ
‚îÇ (Only create projects from articles with    ‚îÇ
‚îÇ  score >= 70)                               ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ [ ] Auto-generate scripts                   ‚îÇ
‚îÇ (Automatically generate script after        ‚îÇ
‚îÇ  creating project)                          ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ Daily Limit: [10] projects per day          ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ Keywords (optional):                        ‚îÇ
‚îÇ [crypto] [trading] [finance]                ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ Exclude Keywords:                           ‚îÇ
‚îÇ [spam] [advertisement]                      ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ Sources (leave empty for all):              ‚îÇ
‚îÇ [ ] TechCrunch                               ‚îÇ
‚îÇ [x] The Verge                               ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ Statistics:                                 ‚îÇ
‚îÇ ‚Ä¢ Created today: 3/10                       ‚îÇ
‚îÇ ‚Ä¢ Total created: 127                        ‚îÇ
‚îÇ ‚Ä¢ Last run: 2 hours ago                     ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ [Save Settings]                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìä –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –ò –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –õ–æ–≥–∏ –∞–≤—Ç–æ-–∞–≥–µ–Ω—Ç–∞

```typescript
logger.info('[Auto-Agent] Processing user', { userId, settings });
logger.info('[Auto-Agent] Found eligible articles', { count: articles.length });
logger.info('[Auto-Agent] Created project', { projectId, articleId });
logger.warn('[Auto-Agent] Daily limit reached', { userId, limit: 10 });
logger.error('[Auto-Agent] Failed to create project', { error, articleId });
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –ë–î

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
CREATE TABLE auto_agent_logs (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  article_id UUID REFERENCES rss_items(id),
  project_id UUID REFERENCES projects(id),
  action VARCHAR(20), -- 'created', 'skipped', 'error'
  reason TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);
```

---

## üöÄ –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–î–µ–Ω—å 1-2)

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É `user_settings` –≤ –ë–î
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å `user-settings.storage.ts`
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å `user-settings.routes.ts` (API)
4. ‚úÖ –°–æ–∑–¥–∞—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –≠—Ç–∞–ø 2: –ê–≤—Ç–æ-–∞–≥–µ–Ω—Ç (–î–µ–Ω—å 3-4)

5. ‚úÖ –°–æ–∑–¥–∞—Ç—å `auto-agent-service.ts`
6. ‚úÖ –°–æ–∑–¥–∞—Ç—å `cron/auto-agent.ts`
7. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `server/index.ts`
8. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –≠—Ç–∞–ø 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–î–µ–Ω—å 5)

9. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
10. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã
11. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –≠—Ç–∞–ø 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–î–µ–Ω—å 6)

12. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î
13. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
14. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –õ–ò–ú–ò–¢–´

### –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è:

1. **Daily Limit** - –º–∞–∫—Å–∏–º—É–º –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ –¥–µ–Ω—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **Rate Limiting** - –Ω–µ –±–æ–ª–µ–µ 1 –ø—Ä–æ–µ–∫—Ç–∞ –≤ –º–∏–Ω—É—Ç—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **API Key Limits** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ AI API –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
4. **Error Handling** - graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:

```typescript
try {
  await createProject();
} catch (error) {
  if (error.statusCode === 429) {
    // Rate limit - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å, –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ
    logger.warn('Rate limited, skipping');
    return;
  }
  // –î—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏ - –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
  logger.error('Failed to create project', { error });
}
```

---

## üìà –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

- **–ü—Ä–æ—Ü–µ–Ω—Ç —Å—Ç–∞—Ç–µ–π ‚Üí –ø—Ä–æ–µ–∫—Ç–æ–≤**: —Å–∫–æ–ª—å–∫–æ —Å—Ç–∞—Ç–µ–π –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–æ—Å—å –≤ –ø—Ä–æ–µ–∫—Ç—ã
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏**: —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- **–û—à–∏–±–∫–∏**: –ø—Ä–æ—Ü–µ–Ω—Ç –Ω–µ—É–¥–∞—á–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∏–π
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: —Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–≤—Ç–æ-–∞–≥–µ–Ω—Ç

---

## üéØ –ü–†–ò–ú–ï–† –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë–∞–∑–æ–≤—ã–π –∞–≤—Ç–æ-–∞–≥–µ–Ω—Ç

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∫–ª—é—á–∞–µ—Ç:
- auto_create_projects = true
- auto_create_min_score = 70
- daily_limit = 10

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç –∞–≥–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–æ–≤—ã–µ —Å—Ç–∞—Ç—å–∏
- –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç—ã –¥–ª—è —Å—Ç–∞—Ç–µ–π —Å score >= 70
- –ú–∞–∫—Å–∏–º—É–º 10 –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ –¥–µ–Ω—å
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –° –∞–≤—Ç–æ-–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∫–ª—é—á–∞–µ—Ç:
- auto_create_projects = true
- auto_generate_scripts = true
- auto_create_min_score = 75

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —Å–æ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –° —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∫–ª—é—á–∞–µ—Ç:
- auto_create_projects = true
- keywords = ["crypto", "bitcoin"]
- exclude_keywords = ["spam"]
- auto_create_sources = ["source-id-1", "source-id-2"]

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç—ã —Ç–æ–ª—å–∫–æ –∏–∑ —Å—Ç–∞—Ç–µ–π –ø—Ä–æ –∫—Ä–∏–ø—Ç—É
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å–ø–∞–º
- –¢–æ–ª—å–∫–æ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
```

---

## üí° –ë–£–î–£–©–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø

1. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–£–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã** - ML-–º–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –≤–∏—Ä—É—Å–Ω–æ—Å—Ç–∏
3. **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
4. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - email/push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
5. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - dashboard —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∞–≤—Ç–æ-–∞–≥–µ–Ω—Ç–∞

---

*–ü–ª–∞–Ω —Å–æ–∑–¥–∞–Ω: 2025-01-27*

