{
  "id": "3845db36-a140-4ead-80b6-4624412afe6b",
  "prevId": "a8fe65d5-1732-4e96-95ce-bbc8edd381ff",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.api_keys": {
      "name": "api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "encrypted_key": {
          "name": "encrypted_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last4": {
          "name": "last4",
          "type": "varchar(4)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "api_keys_user_id_idx": {
          "name": "api_keys_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "api_keys_user_id_users_id_fk": {
          "name": "api_keys_user_id_users_id_fk",
          "tableFrom": "api_keys",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "sid": {
          "name": "sid",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "sess": {
          "name": "sess",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "expire": {
          "name": "expire",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "IDX_session_expire": {
          "name": "IDX_session_expire",
          "columns": [
            {
              "expression": "expire",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_url": {
          "name": "profile_image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rss_items": {
      "name": "rss_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "source_id": {
          "name": "source_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "full_content": {
          "name": "full_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_fetched_at": {
          "name": "last_fetched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_score": {
          "name": "ai_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ai_comment": {
          "name": "ai_comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_action": {
          "name": "user_action",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "action_at": {
          "name": "action_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "used_in_project": {
          "name": "used_in_project",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_favorite": {
          "name": "is_favorite",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "favorited_at": {
          "name": "favorited_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "user_notes": {
          "name": "user_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "freshness_score": {
          "name": "freshness_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "virality_score": {
          "name": "virality_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quality_score": {
          "name": "quality_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "article_analysis": {
          "name": "article_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "article_translation": {
          "name": "article_translation",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "parsed_at": {
          "name": "parsed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "rss_items_source_id_idx": {
          "name": "rss_items_source_id_idx",
          "columns": [
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rss_items_user_id_idx": {
          "name": "rss_items_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rss_items_ai_score_idx": {
          "name": "rss_items_ai_score_idx",
          "columns": [
            {
              "expression": "ai_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rss_items_user_action_idx": {
          "name": "rss_items_user_action_idx",
          "columns": [
            {
              "expression": "user_action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rss_items_published_at_idx": {
          "name": "rss_items_published_at_idx",
          "columns": [
            {
              "expression": "published_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rss_items_is_favorite_idx": {
          "name": "rss_items_is_favorite_idx",
          "columns": [
            {
              "expression": "is_favorite",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "rss_items_source_id_rss_sources_id_fk": {
          "name": "rss_items_source_id_rss_sources_id_fk",
          "tableFrom": "rss_items",
          "tableTo": "rss_sources",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "rss_items_user_id_users_id_fk": {
          "name": "rss_items_user_id_users_id_fk",
          "tableFrom": "rss_items",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rss_sources": {
      "name": "rss_sources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "topic": {
          "name": "topic",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_parsed": {
          "name": "last_parsed",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "parse_status": {
          "name": "parse_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "parse_error": {
          "name": "parse_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_count": {
          "name": "item_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "rss_sources_user_id_idx": {
          "name": "rss_sources_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "rss_sources_user_id_users_id_fk": {
          "name": "rss_sources_user_id_users_id_fk",
          "tableFrom": "rss_sources",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.instagram_items": {
      "name": "instagram_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "source_id": {
          "name": "source_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "short_code": {
          "name": "short_code",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "caption": {
          "name": "caption",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "video_url": {
          "name": "video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thumbnail_url": {
          "name": "thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_duration": {
          "name": "video_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "local_video_path": {
          "name": "local_video_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "local_thumbnail_path": {
          "name": "local_thumbnail_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "download_status": {
          "name": "download_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "download_error": {
          "name": "download_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transcription_text": {
          "name": "transcription_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transcription_status": {
          "name": "transcription_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "transcription_error": {
          "name": "transcription_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "language": {
          "name": "language",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "likes_count": {
          "name": "likes_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "comments_count": {
          "name": "comments_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "video_view_count": {
          "name": "video_view_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "video_play_count": {
          "name": "video_play_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "shares_count": {
          "name": "shares_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "hashtags": {
          "name": "hashtags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "mentions": {
          "name": "mentions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "owner_username": {
          "name": "owner_username",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "owner_full_name": {
          "name": "owner_full_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "music_info": {
          "name": "music_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ai_score": {
          "name": "ai_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ai_comment": {
          "name": "ai_comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_action": {
          "name": "user_action",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "action_at": {
          "name": "action_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "used_in_project": {
          "name": "used_in_project",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "freshness_score": {
          "name": "freshness_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "virality_score": {
          "name": "virality_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quality_score": {
          "name": "quality_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "parsed_at": {
          "name": "parsed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "instagram_items_source_id_idx": {
          "name": "instagram_items_source_id_idx",
          "columns": [
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "instagram_items_user_id_idx": {
          "name": "instagram_items_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "instagram_items_external_id_idx": {
          "name": "instagram_items_external_id_idx",
          "columns": [
            {
              "expression": "external_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "instagram_items_ai_score_idx": {
          "name": "instagram_items_ai_score_idx",
          "columns": [
            {
              "expression": "ai_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "instagram_items_user_action_idx": {
          "name": "instagram_items_user_action_idx",
          "columns": [
            {
              "expression": "user_action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "instagram_items_published_at_idx": {
          "name": "instagram_items_published_at_idx",
          "columns": [
            {
              "expression": "published_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "instagram_items_user_external_id_unique": {
          "name": "instagram_items_user_external_id_unique",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "external_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "instagram_items_source_id_instagram_sources_id_fk": {
          "name": "instagram_items_source_id_instagram_sources_id_fk",
          "tableFrom": "instagram_items",
          "tableTo": "instagram_sources",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "instagram_items_user_id_users_id_fk": {
          "name": "instagram_items_user_id_users_id_fk",
          "tableFrom": "instagram_items",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.instagram_sources": {
      "name": "instagram_sources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "profile_url": {
          "name": "profile_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_parsed": {
          "name": "last_parsed",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "parse_status": {
          "name": "parse_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "parse_error": {
          "name": "parse_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_count": {
          "name": "item_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_scraped_date": {
          "name": "last_scraped_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_scraped_reel_id": {
          "name": "last_scraped_reel_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "auto_update_enabled": {
          "name": "auto_update_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "check_interval_hours": {
          "name": "check_interval_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 6
        },
        "last_checked_at": {
          "name": "last_checked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_successful_parse_at": {
          "name": "last_successful_parse_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_check_at": {
          "name": "next_check_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_checks": {
          "name": "total_checks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "new_reels_found": {
          "name": "new_reels_found",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failed_checks": {
          "name": "failed_checks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "notify_new_reels": {
          "name": "notify_new_reels",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notify_viral_only": {
          "name": "notify_viral_only",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "viral_threshold": {
          "name": "viral_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100000
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "instagram_sources_user_id_idx": {
          "name": "instagram_sources_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "instagram_sources_next_check_idx": {
          "name": "instagram_sources_next_check_idx",
          "columns": [
            {
              "expression": "next_check_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "instagram_sources_user_id_users_id_fk": {
          "name": "instagram_sources_user_id_users_id_fk",
          "tableFrom": "instagram_sources",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_steps": {
      "name": "project_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "step_number": {
          "name": "step_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "skip_reason": {
          "name": "skip_reason",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "project_steps_project_id_idx": {
          "name": "project_steps_project_id_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_steps_project_step_unique": {
          "name": "project_steps_project_step_unique",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "step_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_steps_project_id_projects_id_fk": {
          "name": "project_steps_project_id_projects_id_fk",
          "tableFrom": "project_steps",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.projects": {
      "name": "projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "source_data": {
          "name": "source_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "current_stage": {
          "name": "current_stage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "projects_user_id_idx": {
          "name": "projects_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "projects_status_idx": {
          "name": "projects_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "projects_user_id_users_id_fk": {
          "name": "projects_user_id_users_id_fk",
          "tableFrom": "projects",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scene_recommendations": {
      "name": "scene_recommendations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "script_version_id": {
          "name": "script_version_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "scene_id": {
          "name": "scene_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "area": {
          "name": "area",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "current_text": {
          "name": "current_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "suggested_text": {
          "name": "suggested_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reasoning": {
          "name": "reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expected_impact": {
          "name": "expected_impact",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "source_agent": {
          "name": "source_agent",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "score_delta": {
          "name": "score_delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "applied": {
          "name": "applied",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "scene_recommendations_version_idx": {
          "name": "scene_recommendations_version_idx",
          "columns": [
            {
              "expression": "script_version_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "scene_recommendations_scene_idx": {
          "name": "scene_recommendations_scene_idx",
          "columns": [
            {
              "expression": "scene_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "scene_recommendations_version_applied_idx": {
          "name": "scene_recommendations_version_applied_idx",
          "columns": [
            {
              "expression": "script_version_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "applied",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "scene_recommendations_script_version_id_script_versions_id_fk": {
          "name": "scene_recommendations_script_version_id_script_versions_id_fk",
          "tableFrom": "scene_recommendations",
          "tableTo": "script_versions",
          "columnsFrom": [
            "script_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.script_versions": {
      "name": "script_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "version_number": {
          "name": "version_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "full_script": {
          "name": "full_script",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scenes": {
          "name": "scenes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "changes": {
          "name": "changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "provenance": {
          "name": "provenance",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "diff": {
          "name": "diff",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_result": {
          "name": "analysis_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_score": {
          "name": "analysis_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "parent_version_id": {
          "name": "parent_version_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_candidate": {
          "name": "is_candidate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_rejected": {
          "name": "is_rejected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "base_version_id": {
          "name": "base_version_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metrics": {
          "name": "metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "review": {
          "name": "review",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "script_versions_project_idx": {
          "name": "script_versions_project_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "script_versions_current_idx": {
          "name": "script_versions_current_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_current",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "script_versions_proj_desc_idx": {
          "name": "script_versions_proj_desc_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"version_number\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uniq_script_current": {
          "name": "uniq_script_current",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"script_versions\".\"is_current\" = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "script_versions_project_id_projects_id_fk": {
          "name": "script_versions_project_id_projects_id_fk",
          "tableFrom": "script_versions",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "script_versions_parent_version_id_script_versions_id_fk": {
          "name": "script_versions_parent_version_id_script_versions_id_fk",
          "tableFrom": "script_versions",
          "tableTo": "script_versions",
          "columnsFrom": [
            "parent_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "script_versions_base_version_id_script_versions_id_fk": {
          "name": "script_versions_base_version_id_script_versions_id_fk",
          "tableFrom": "script_versions",
          "tableTo": "script_versions",
          "columnsFrom": [
            "base_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ig_accounts": {
      "name": "ig_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "fb_user_id": {
          "name": "fb_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "fb_page_id": {
          "name": "fb_page_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ig_user_id": {
          "name": "ig_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ig_username": {
          "name": "ig_username",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_encrypted": {
          "name": "access_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "account_status": {
          "name": "account_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ig_accounts_user_id_idx": {
          "name": "ig_accounts_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ig_accounts_ig_user_id_idx": {
          "name": "ig_accounts_ig_user_id_idx",
          "columns": [
            {
              "expression": "ig_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ig_accounts_user_id_users_id_fk": {
          "name": "ig_accounts_user_id_users_id_fk",
          "tableFrom": "ig_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ig_media": {
      "name": "ig_media",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ig_account_id": {
          "name": "ig_account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ig_media_id": {
          "name": "ig_media_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "permalink": {
          "name": "permalink",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "media_type": {
          "name": "media_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'REEL'"
        },
        "caption": {
          "name": "caption",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thumbnail_url": {
          "name": "thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_sync_at": {
          "name": "next_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sync_status": {
          "name": "sync_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'idle'"
        },
        "sync_error": {
          "name": "sync_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ig_media_account_id_idx": {
          "name": "ig_media_account_id_idx",
          "columns": [
            {
              "expression": "ig_account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ig_media_published_at_idx": {
          "name": "ig_media_published_at_idx",
          "columns": [
            {
              "expression": "published_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ig_media_next_sync_idx": {
          "name": "ig_media_next_sync_idx",
          "columns": [
            {
              "expression": "next_sync_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ig_media_sync_status_idx": {
          "name": "ig_media_sync_status_idx",
          "columns": [
            {
              "expression": "sync_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ig_media_account_media_unique": {
          "name": "ig_media_account_media_unique",
          "columns": [
            {
              "expression": "ig_account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "ig_media_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ig_media_ig_account_id_ig_accounts_id_fk": {
          "name": "ig_media_ig_account_id_ig_accounts_id_fk",
          "tableFrom": "ig_media",
          "tableTo": "ig_accounts",
          "columnsFrom": [
            "ig_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ig_media_insights": {
      "name": "ig_media_insights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ig_media_id": {
          "name": "ig_media_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "collected_at": {
          "name": "collected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metrics": {
          "name": "metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "raw": {
          "name": "raw",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ig_media_insights_media_id_idx": {
          "name": "ig_media_insights_media_id_idx",
          "columns": [
            {
              "expression": "ig_media_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ig_media_insights_collected_at_idx": {
          "name": "ig_media_insights_collected_at_idx",
          "columns": [
            {
              "expression": "collected_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ig_media_insights_ig_media_id_ig_media_id_fk": {
          "name": "ig_media_insights_ig_media_id_ig_media_id_fk",
          "tableFrom": "ig_media_insights",
          "tableTo": "ig_media",
          "columnsFrom": [
            "ig_media_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_version_bindings": {
      "name": "project_version_bindings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "version_id": {
          "name": "version_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ig_media_id": {
          "name": "ig_media_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "bind_type": {
          "name": "bind_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "project_version_bindings_project_idx": {
          "name": "project_version_bindings_project_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_version_bindings_version_idx": {
          "name": "project_version_bindings_version_idx",
          "columns": [
            {
              "expression": "version_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_version_bindings_media_idx": {
          "name": "project_version_bindings_media_idx",
          "columns": [
            {
              "expression": "ig_media_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uniq_version_binding": {
          "name": "uniq_version_binding",
          "columns": [
            {
              "expression": "version_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_version_bindings_project_id_projects_id_fk": {
          "name": "project_version_bindings_project_id_projects_id_fk",
          "tableFrom": "project_version_bindings",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_version_bindings_version_id_script_versions_id_fk": {
          "name": "project_version_bindings_version_id_script_versions_id_fk",
          "tableFrom": "project_version_bindings",
          "tableTo": "script_versions",
          "columnsFrom": [
            "version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_version_bindings_ig_media_id_ig_media_id_fk": {
          "name": "project_version_bindings_ig_media_id_ig_media_id_fk",
          "tableFrom": "project_version_bindings",
          "tableTo": "ig_media",
          "columnsFrom": [
            "ig_media_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scripts_library": {
      "name": "scripts_library",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "scenes": {
          "name": "scenes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "full_text": {
          "name": "full_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "format": {
          "name": "format",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "word_count": {
          "name": "word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ai_score": {
          "name": "ai_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ai_analysis": {
          "name": "ai_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ai_recommendations": {
          "name": "ai_recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "source_id": {
          "name": "source_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_title": {
          "name": "source_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "parent_script_id": {
          "name": "parent_script_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "analyzed_at": {
          "name": "analyzed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "scripts_library_user_id_idx": {
          "name": "scripts_library_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "scripts_library_status_idx": {
          "name": "scripts_library_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "scripts_library_source_idx": {
          "name": "scripts_library_source_idx",
          "columns": [
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "scripts_library_project_idx": {
          "name": "scripts_library_project_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "scripts_library_user_id_users_id_fk": {
          "name": "scripts_library_user_id_users_id_fk",
          "tableFrom": "scripts_library",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scripts_library_project_id_projects_id_fk": {
          "name": "scripts_library_project_id_projects_id_fk",
          "tableFrom": "scripts_library",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "scripts_library_parent_script_id_scripts_library_id_fk": {
          "name": "scripts_library_parent_script_id_scripts_library_id_fk",
          "tableFrom": "scripts_library",
          "tableTo": "scripts_library",
          "columnsFrom": [
            "parent_script_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analytics_fetch_queue": {
      "name": "analytics_fetch_queue",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "analytics_id": {
          "name": "analytics_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "apify_run_id": {
          "name": "apify_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "analytics_queue_status_idx": {
          "name": "analytics_queue_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scheduled_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analytics_queue_analytics_idx": {
          "name": "analytics_queue_analytics_idx",
          "columns": [
            {
              "expression": "analytics_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "analytics_fetch_queue_analytics_id_post_analytics_id_fk": {
          "name": "analytics_fetch_queue_analytics_id_post_analytics_id_fk",
          "tableFrom": "analytics_fetch_queue",
          "tableTo": "post_analytics",
          "columnsFrom": [
            "analytics_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analytics_snapshots": {
      "name": "analytics_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "analytics_id": {
          "name": "analytics_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "views": {
          "name": "views",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "likes": {
          "name": "likes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "comments": {
          "name": "comments",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "shares": {
          "name": "shares",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "saves": {
          "name": "saves",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reach": {
          "name": "reach",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "impressions": {
          "name": "impressions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "plays": {
          "name": "plays",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "watch_time_seconds": {
          "name": "watch_time_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_rate": {
          "name": "engagement_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "fetched_at": {
          "name": "fetched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "analytics_snapshots_analytics_idx": {
          "name": "analytics_snapshots_analytics_idx",
          "columns": [
            {
              "expression": "analytics_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analytics_snapshots_time_idx": {
          "name": "analytics_snapshots_time_idx",
          "columns": [
            {
              "expression": "analytics_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fetched_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "analytics_snapshots_analytics_id_post_analytics_id_fk": {
          "name": "analytics_snapshots_analytics_id_post_analytics_id_fk",
          "tableFrom": "analytics_snapshots",
          "tableTo": "post_analytics",
          "columnsFrom": [
            "analytics_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.post_analytics": {
      "name": "post_analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "post_url": {
          "name": "post_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "post_id": {
          "name": "post_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "update_interval_hours": {
          "name": "update_interval_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 6
        },
        "tracking_days": {
          "name": "tracking_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_fetched_at": {
          "name": "last_fetched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_fetch_at": {
          "name": "next_fetch_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "tracking_ends_at": {
          "name": "tracking_ends_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "post_analytics_project_idx": {
          "name": "post_analytics_project_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "post_analytics_user_idx": {
          "name": "post_analytics_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "post_analytics_status_idx": {
          "name": "post_analytics_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "post_analytics_next_fetch_idx": {
          "name": "post_analytics_next_fetch_idx",
          "columns": [
            {
              "expression": "next_fetch_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "post_analytics_project_id_projects_id_fk": {
          "name": "post_analytics_project_id_projects_id_fk",
          "tableFrom": "post_analytics",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "post_analytics_user_id_users_id_fk": {
          "name": "post_analytics_user_id_users_id_fk",
          "tableFrom": "post_analytics",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conveyor_settings": {
      "name": "conveyor_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "source_types": {
          "name": "source_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[\"news\"]'::jsonb"
        },
        "source_ids": {
          "name": "source_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "keywords": {
          "name": "keywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "exclude_keywords": {
          "name": "exclude_keywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "max_age_days": {
          "name": "max_age_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 7
        },
        "min_score_threshold": {
          "name": "min_score_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 70
        },
        "daily_limit": {
          "name": "daily_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "items_processed_today": {
          "name": "items_processed_today",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_reset_at": {
          "name": "last_reset_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "monthly_budget_limit": {
          "name": "monthly_budget_limit",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'10.00'"
        },
        "current_month_cost": {
          "name": "current_month_cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "budget_reset_at": {
          "name": "budget_reset_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "style_preferences": {
          "name": "style_preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"formality\":\"conversational\",\"tone\":\"engaging\",\"language\":\"ru\"}'::jsonb"
        },
        "custom_guidelines": {
          "name": "custom_guidelines",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "duration_range": {
          "name": "duration_range",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"min\":30,\"max\":90}'::jsonb"
        },
        "custom_prompts": {
          "name": "custom_prompts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "script_examples": {
          "name": "script_examples",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "learned_threshold": {
          "name": "learned_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_patterns": {
          "name": "rejection_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "avoided_topics": {
          "name": "avoided_topics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "preferred_formats": {
          "name": "preferred_formats",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "total_processed": {
          "name": "total_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_passed": {
          "name": "total_passed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_failed": {
          "name": "total_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_approved": {
          "name": "total_approved",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_rejected": {
          "name": "total_rejected",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "approval_rate": {
          "name": "approval_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "conveyor_settings_user_id_idx": {
          "name": "conveyor_settings_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conveyor_settings_user_id_users_id_fk": {
          "name": "conveyor_settings_user_id_users_id_fk",
          "tableFrom": "conveyor_settings",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "conveyor_settings_user_id_unique": {
          "name": "conveyor_settings_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conveyor_items": {
      "name": "conveyor_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "source_item_id": {
          "name": "source_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'processing'"
        },
        "current_stage": {
          "name": "current_stage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "source_data": {
          "name": "source_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "scoring_data": {
          "name": "scoring_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_data": {
          "name": "analysis_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "architecture_data": {
          "name": "architecture_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "script_data": {
          "name": "script_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "qc_data": {
          "name": "qc_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "optimization_data": {
          "name": "optimization_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "gate_data": {
          "name": "gate_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "stage_history": {
          "name": "stage_history",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "revision_context": {
          "name": "revision_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "parent_item_id": {
          "name": "parent_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_processing_ms": {
          "name": "total_processing_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "error_stage": {
          "name": "error_stage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "conveyor_items_user_id_idx": {
          "name": "conveyor_items_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conveyor_items_status_idx": {
          "name": "conveyor_items_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conveyor_items_source_idx": {
          "name": "conveyor_items_source_idx",
          "columns": [
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conveyor_items_started_at_idx": {
          "name": "conveyor_items_started_at_idx",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conveyor_items_user_id_users_id_fk": {
          "name": "conveyor_items_user_id_users_id_fk",
          "tableFrom": "conveyor_items",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.auto_scripts": {
      "name": "auto_scripts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "conveyor_item_id": {
          "name": "conveyor_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "source_item_id": {
          "name": "source_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scenes": {
          "name": "scenes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "full_script": {
          "name": "full_script",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "format_id": {
          "name": "format_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "format_name": {
          "name": "format_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_duration": {
          "name": "estimated_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "initial_score": {
          "name": "initial_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "final_score": {
          "name": "final_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "hook_score": {
          "name": "hook_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "structure_score": {
          "name": "structure_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "emotional_score": {
          "name": "emotional_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cta_score": {
          "name": "cta_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "gate_decision": {
          "name": "gate_decision",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "gate_confidence": {
          "name": "gate_confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_category": {
          "name": "rejection_category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "revision_notes": {
          "name": "revision_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "revision_count": {
          "name": "revision_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "auto_scripts_user_id_idx": {
          "name": "auto_scripts_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auto_scripts_status_idx": {
          "name": "auto_scripts_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auto_scripts_user_status_idx": {
          "name": "auto_scripts_user_status_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auto_scripts_created_at_idx": {
          "name": "auto_scripts_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "auto_scripts_user_id_users_id_fk": {
          "name": "auto_scripts_user_id_users_id_fk",
          "tableFrom": "auto_scripts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "auto_scripts_conveyor_item_id_conveyor_items_id_fk": {
          "name": "auto_scripts_conveyor_item_id_conveyor_items_id_fk",
          "tableFrom": "auto_scripts",
          "tableTo": "conveyor_items",
          "columnsFrom": [
            "conveyor_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "auto_scripts_project_id_projects_id_fk": {
          "name": "auto_scripts_project_id_projects_id_fk",
          "tableFrom": "auto_scripts",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.auto_script_versions": {
      "name": "auto_script_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "auto_script_id": {
          "name": "auto_script_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "version_number": {
          "name": "version_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scenes": {
          "name": "scenes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "full_script": {
          "name": "full_script",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "final_score": {
          "name": "final_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hook_score": {
          "name": "hook_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "structure_score": {
          "name": "structure_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "emotional_score": {
          "name": "emotional_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cta_score": {
          "name": "cta_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_text": {
          "name": "feedback_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_scene_ids": {
          "name": "feedback_scene_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "diff": {
          "name": "diff",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "auto_script_versions_script_idx": {
          "name": "auto_script_versions_script_idx",
          "columns": [
            {
              "expression": "auto_script_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auto_script_versions_user_idx": {
          "name": "auto_script_versions_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auto_script_versions_current_idx": {
          "name": "auto_script_versions_current_idx",
          "columns": [
            {
              "expression": "auto_script_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_current",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "auto_script_versions_auto_script_id_auto_scripts_id_fk": {
          "name": "auto_script_versions_auto_script_id_auto_scripts_id_fk",
          "tableFrom": "auto_script_versions",
          "tableTo": "auto_scripts",
          "columnsFrom": [
            "auto_script_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "auto_script_versions_user_id_users_id_fk": {
          "name": "auto_script_versions_user_id_users_id_fk",
          "tableFrom": "auto_script_versions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_feedback_entries": {
      "name": "user_feedback_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "auto_script_id": {
          "name": "auto_script_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "auto_script_version_id": {
          "name": "auto_script_version_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_type": {
          "name": "feedback_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_text": {
          "name": "feedback_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_scene_ids": {
          "name": "target_scene_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "original_script": {
          "name": "original_script",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_scenes": {
          "name": "original_scenes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_patterns": {
          "name": "extracted_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_sentiment": {
          "name": "extracted_sentiment",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "applied_to_profile": {
          "name": "applied_to_profile",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_feedback_entries_user_idx": {
          "name": "user_feedback_entries_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_feedback_entries_script_idx": {
          "name": "user_feedback_entries_script_idx",
          "columns": [
            {
              "expression": "auto_script_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_feedback_entries_processed_idx": {
          "name": "user_feedback_entries_processed_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "applied_to_profile",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_feedback_entries_user_id_users_id_fk": {
          "name": "user_feedback_entries_user_id_users_id_fk",
          "tableFrom": "user_feedback_entries",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_feedback_entries_auto_script_id_auto_scripts_id_fk": {
          "name": "user_feedback_entries_auto_script_id_auto_scripts_id_fk",
          "tableFrom": "user_feedback_entries",
          "tableTo": "auto_scripts",
          "columnsFrom": [
            "auto_script_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "user_feedback_entries_auto_script_version_id_auto_script_versions_id_fk": {
          "name": "user_feedback_entries_auto_script_version_id_auto_script_versions_id_fk",
          "tableFrom": "user_feedback_entries",
          "tableTo": "auto_script_versions",
          "columnsFrom": [
            "auto_script_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_writing_profiles": {
      "name": "user_writing_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "avoid_patterns": {
          "name": "avoid_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "prefer_patterns": {
          "name": "prefer_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "tone_preference": {
          "name": "tone_preference",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "style_notes": {
          "name": "style_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "writing_rules": {
          "name": "writing_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "ai_summary": {
          "name": "ai_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_feedback_count": {
          "name": "total_feedback_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_feedback_at": {
          "name": "last_feedback_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_writing_profiles_user_idx": {
          "name": "user_writing_profiles_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_writing_profiles_user_id_users_id_fk": {
          "name": "user_writing_profiles_user_id_users_id_fk",
          "tableFrom": "user_writing_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_writing_profiles_user_id_unique": {
          "name": "user_writing_profiles_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conveyor_logs": {
      "name": "conveyor_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "conveyor_item_id": {
          "name": "conveyor_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "stage_number": {
          "name": "stage_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "agent_name": {
          "name": "agent_name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "conveyor_logs_user_id_idx": {
          "name": "conveyor_logs_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conveyor_logs_item_id_idx": {
          "name": "conveyor_logs_item_id_idx",
          "columns": [
            {
              "expression": "conveyor_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conveyor_logs_event_type_idx": {
          "name": "conveyor_logs_event_type_idx",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conveyor_logs_created_at_idx": {
          "name": "conveyor_logs_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conveyor_logs_user_id_users_id_fk": {
          "name": "conveyor_logs_user_id_users_id_fk",
          "tableFrom": "conveyor_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conveyor_logs_conveyor_item_id_conveyor_items_id_fk": {
          "name": "conveyor_logs_conveyor_item_id_conveyor_items_id_fk",
          "tableFrom": "conveyor_logs",
          "tableTo": "conveyor_items",
          "columnsFrom": [
            "conveyor_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}