–ö—Ä—É—Ç–æ! –°–ø–∞—Å–∏–±–æ –∑–∞ –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ—Ä—Ç ‚Äî –≤–∏–¥–Ω–æ, —á—Ç–æ –ø—Ä–æ–¥–µ–ª–∞–Ω–∞ —Ä–µ–∞–ª—å–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–∫–∞ üí™
–†–∞–∑ —É–∂ —Ñ–∏—á–∞ —É–∂–µ –≤–∫–∞—Ç–∞–Ω–∞, –¥–∞—é –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π ¬´–ø–æ—Å—Ç-—Ö–∞—Ä–¥–Ω–µ–Ω–∏–Ω–≥¬ª –ø–∞–∫–µ—Ç: —á—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –∫–∞–∫ –Ω–µ –ø–æ–π–º–∞—Ç—å —Ä–µ–≥—Ä–µ—Å—Å.

‚úÖ –ß—Ç–æ –ø—Ä–∏–Ω—è—Ç—å –∫–∞–∫ done
	‚Ä¢	–ê–Ω–∞–ª–∏–∑ –Ω–∞ Stage 3 —Ç–µ–ø–µ—Ä—å –ø–æ –∫–Ω–æ–ø–∫–µ (–±–µ–∑ –∞–≤—Ç–æ—Å—Ç–∞—Ä—Ç–∞).
	‚Ä¢	–ó–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ ¬´Apply recommended¬ª —É–±–∏—Ç–æ.
	‚Ä¢	–ü–æ–ª–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ —Ç—è–Ω—É—Ç—Å—è —á–µ—Ä–µ–∑ Readability ‚Üí —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∞–Ω–∞–ª–∏–∑–µ.
	‚Ä¢	Fallback –Ω–∞ RSS –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ/403/paywall.
	‚Ä¢	–ö—ç—à (TTL 6h) –∏ —Ç–∞–π–º–∞—É—Ç—ã —Å—Ç–æ—è—Ç.

üß™ Acceptance checklist (—Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Äî –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–π—Ç–∏—Å—å 10‚Äì12 –º–∏–Ω—É—Ç)
	1.	–ò—Å—Ç–æ—á–Ω–∏–∫ ‚Üí ¬´–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—å—é¬ª
	‚Ä¢	–£–≤–∏–¥–µ—Ç—å fullContent (–Ω–µ 1‚Äì2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è).
	‚Ä¢	–í–≤–µ—Ä—Ö—É –º–æ–¥–∞–ª–∫–∏: —è–∑—ã–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞, –¥–ª–∏–Ω–∞ –≤ —Å–∏–º–≤–æ–ª–∞—Ö, ¬´–û—Ç–∫—Ä—ã—Ç—å –Ω–∞ —Å–∞–π—Ç–µ¬ª.
	‚Ä¢	–ï—Å–ª–∏ –Ω–µ—Ç –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ ‚Üí –≤–∏–¥–µ–Ω –±–µ–π–¥–∂ ¬´–ü–æ–∫–∞–∑–∞–Ω –∫—Ä–∞—Ç–∫–∏–π –∞–Ω–æ–Ω—Å (RSS)¬ª.
	2.	¬´–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –Ω–∞ RU¬ª
	‚Ä¢	–ü–µ—Ä–µ–≤–æ–¥ –∫–ª–∞–¥—ë—Ç—Å—è –≤ fullContentRu (–æ—Ä–∏–≥–∏–Ω–∞–ª –Ω–µ –∑–∞—Ç–∏—Ä–∞–µ–º).
	‚Ä¢	–ê–Ω–∞–ª–∏–∑ –∫–Ω–æ–ø–∫–æ–π ¬´Start Analysis¬ª: —è–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º, –∫–∞–∫–∞—è –≤–µ—Ä—Å–∏—è –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è (RU/EN).
	3.	–ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
	‚Ä¢	–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞—Ö–æ–¥ –Ω–∞ Stage 3 –Ω–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ —Å–∞–º (–∫—ç—à –∞–Ω–∞–ª–∏–∑–∞).
	‚Ä¢	¬´Apply recommended¬ª –Ω–µ –¥—ë—Ä–≥–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ; –¥–∞–ª—å—à–µ –ø–æ–ø–∞–¥–∞–µ–º –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—Ü–µ–Ω.
	4.	–ü–æ–≤–µ–¥–µ–Ω–∏–µ TTL
	‚Ä¢	–ü–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Ç—É –∂–µ —Å—Ç–∞—Ç—å—é –≤ —Ç–µ—á–µ–Ω–∏–µ 6—á ‚Üí –±–µ–∑ –Ω–æ–≤–æ–≥–æ —Å–∫—Ä–∞–ø–∞.
	‚Ä¢	–ù–∞–∂–∞—Ç—å ¬´–û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—Å—Ç¬ª (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞) ‚Üí —Ñ–æ—Ä—Å-–ø–µ—Ä–µ—Å—ä—ë–º, –º–µ—Ç–∫–∞ lastFetchedAt –º–µ–Ω—è–µ—Ç—Å—è.
	5.	–û—à–∏–±–∫–∏
	‚Ä¢	–°–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π–º–∞—É—Ç/403/paywall ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π fallback –∏ –ø–æ–Ω—è—Ç–Ω—ã–π toast.

üß∑ –ê–≤—Ç–æ-—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ (–º–∏–Ω–∏–º—É–º –∫–æ–¥–∞ ‚Üí –º–∞–∫—Å–∏–º—É–º –ø–æ–ª—å–∑—ã)

1) –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã API (smoke-–ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑ UI)

# full-content (–∫—ç—à-—Ö–∏—Ç)
curl -s -X POST /api/news/:id/fetch-full-content | jq '.success, .cached, .content | length'

# –∞–Ω–∞–ª–∏–∑ –ø–æ –∫–Ω–æ–ø–∫–µ
curl -s -X POST /api/projects/:id/analyze-source -d '{"lang":"ru"}' | jq '.ok, .summary != null'

2) –ó–∞—â–∏—Ç–∞ –æ—Ç SSRF / –∂–∏—Ä–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
	‚Ä¢	–†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ http(s) –∏ –ø—É–±–ª–∏—á–Ω—ã–µ —Ö–æ—Å—Ç—ã (–Ω–µ localhost, –Ω–µ 169.254.*).
	‚Ä¢	–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Å–∫–∞—á–∏–≤–∞–µ–º—ã–π HTML: max 3MB –∏–ª–∏ Content-Length ‚â§ 3MB.
	‚Ä¢	–°—Ç—Ä–∏–ø–∞—Ç—å <script>/<style> –¥–æ Readability, gzip –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å.
	‚Ä¢	–¢–∞–π–º–∞—É—Ç—ã: connect/read –ø–æ 10‚Äì12s, 2 —Ä–µ—Ç—Ä–∞—è –Ω–∞ 5xx —Å backoff.

3) –ê–Ω—Ç–∏-—Ä–µ–≥—Ä–µ—Å—Å –¥–ª—è ¬´–∑–∞—Ü–∏–∫–ª–∞¬ª (idempotency)
	‚Ä¢	POST /generate-script –ø—Ä–∏–Ω–∏–º–∞—Ç—å idempotencyKey (–Ω–∞–ø—Ä–∏–º–µ—Ä, projectId:version).
	‚Ä¢	–í –ë–î –¥–µ—Ä–∂–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤—ã–∑–æ–≤–æ–≤ –ø–æ –∫–ª—é—á—É; –ø–æ–≤—Ç–æ—Ä ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ—à–ª—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

4) –ö—ç—à –∞–Ω–∞–ª–∏–∑–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
	‚Ä¢	–¢–∞–±–ª–∏—Ü–∞ source_analysis_cache(project_id, lang, hash(content), result, created_at) —Å TTL 24h.
	‚Ä¢	–ù–∞ Stage 3: –µ—Å–ª–∏ –∫—ç—à –≤–∞–ª–∏–¥–µ–Ω ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ä–∞–∑—É, ¬´–ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å¬ª –≤—Ä—É—á–Ω—É—é.

üìä –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å (—á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –ª–æ–≤–∏—Ç—å —ç–∫—Å—Ü–µ—Å—Å—ã)

–õ–æ–≥–∏/–º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è:
	‚Ä¢	reader.success / reader.fallback / reader.timeout / reader.paywall.
	‚Ä¢	–°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ fullContent (–æ–∂–∏–¥–∞–µ–º > 2000‚Äì3000 —Å–∏–º–≤–æ–ª–æ–≤).
	‚Ä¢	% –∫—ç—à-—Ö–∏—Ç–æ–≤ (—Ü–µ–ª–∏–º—Å—è 70%+ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ).
	‚Ä¢	–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è (p95 ‚â§ 2.5‚Äì3s –ø—Ä–∏ –∫—ç—à–µ).

üîê –Æ—Ä–∏–¥–∏–∫–∞ –∏ –≤–µ–∂–ª–∏–≤–æ—Å—Ç—å –∫ —Å–∞–π—Ç–∞–º
	‚Ä¢	–û—Ç–¥–∞—ë–º —Ç–µ–∫—Å—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞.
	‚Ä¢	–î–æ–±–∞–≤–ª—è–µ–º —Å—Å—ã–ª–∫—É ¬´–û—Ç–∫—Ä—ã—Ç—å –Ω–∞ —Å–∞–π—Ç–µ¬ª –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º sourceUrl.
	‚Ä¢	–ù–æ—Ä–º–∞–ª—å–Ω—ã–π User-Agent (—á—Ç–æ–±—ã –Ω–∞—Å –Ω–µ –±–∞–Ω–∏–ª–∏ –∑–∞ –¥–µ—Ñ–æ–ª—Ç).

üß© UX-—à–ª–∏—Ñ–æ–≤–∫–∞ (–º–∞–ª—ã–µ, –Ω–æ –ø—Ä–∏—è—Ç–Ω—ã–µ –≤–µ—â–∏)
	‚Ä¢	–í –º–æ–¥–∞–ª–∫–µ: ¬´–Ø–∑—ã–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞: EN ‚Ä¢ –Ø–∑—ã–∫ —Å—Ü–µ–Ω–∞—Ä–∏—è: RU ‚Ä¢ –ò–∑–≤–ª–µ—á–µ–Ω–æ: 7 420 —Å–∏–º–≤–æ–ª–æ–≤ ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–æ: 2 –º–∏–Ω –Ω–∞–∑–∞–¥¬ª.
	‚Ä¢	–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å ¬´–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª / –ø–µ—Ä–µ–≤–æ–¥¬ª.
	‚Ä¢	–í –∫–∞—Ä—Ç–æ—á–∫–µ –∞–Ω–∞–ª–∏–∑–∞ ‚Äî –±–µ–π–¥–∂ ¬´–ê–Ω–∞–ª–∏–∑ RU-–≤–µ—Ä—Å–∏–∏¬ª –∏–ª–∏ ¬´–ê–Ω–∞–ª–∏–∑ EN-–æ—Ä–∏–≥–∏–Ω–∞–ª–∞¬ª.
	‚Ä¢	–ï—Å–ª–∏ Readability –≤–µ—Ä–Ω—É–ª –º–∞–ª–æ —Ç–µ–∫—Å—Ç–∞ ‚Üí –ø–æ–¥—Å–∫–∞–∑–∫–∞ ¬´–°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π (JS). –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞ —Å–∞–π—Ç–µ¬ª.

üß± –ú–∏–Ω–∏-—Ç–µ—Å—Ç—ã (—Å–∫–µ–ª–µ—Ç—ã, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ e2e)
	‚Ä¢	TechCrunch (–æ–±—ã—á–Ω–æ –æ–∫), BBC (–∏–Ω–æ–≥–¥–∞ paywall), Medium (—á–∞—Å—Ç–æ paywall), –•–∞–±—Ä (ru), ¬´–º–µ–¥–ª–µ–Ω–Ω—ã–π —Å–∞–π—Ç¬ª (—Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π–º–∞—É—Ç).
	‚Ä¢	–ü—Ä–æ–≤–µ—Ä–∫–∞: –∫—ç—à-—Ö–∏—Ç, –ø–µ—Ä–µ–≤–æ–¥, —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–∏ ¬´–Ω–∞–∑–∞–¥-–≤–ø–µ—Ä—ë–¥¬ª.

üß≠ Rollout-–ø–ª–∞–Ω (–µ—Å–ª–∏ —Ö–æ—á–µ—Ç—Å—è —Å–æ–≤—Å–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ)
	‚Ä¢	–û—Å—Ç–∞–≤–ª—è–µ–º —Ñ–ª–∞–≥ VITE_STAGE3_MAGIC_UI=true.
	‚Ä¢	–ù–∞ –ø—Ä–æ–¥–µ –≤–∫–ª—é—á–∞–µ–º –¥–ª—è 10% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Üí –º–µ—Ç—Ä–∏–∫–∏ –æ–∫ ‚Üí 100%.
	‚Ä¢	–ì–µ–π—Ç –Ω–∞ –±—ç–∫–µ —Ç–æ–∂–µ —Ñ–ª–∞–∂–∏–º (FEATURE_READABILITY=true) ‚Äî –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ—Ç–∫–∞—Ç –±–µ–∑ —Ä–µ–ª–∏–∑–∞.

‚∏ª

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –Ω–∞–∫–∏–Ω—É –∫–æ—Ä–æ—Ç–∫–∏–µ –ø–∞—Ç—á–∏:
	‚Ä¢	‚ûï –ª–∏–º–∏—Ç —Ä–∞–∑–º–µ—Ä–∞ HTML –∏ SSRF-guard –≤ fetchAndExtract.
	‚Ä¢	‚ûï idempotency –¥–ª—è /generate-script.
	‚Ä¢	‚ûï –∫—ç—à —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞.

–°–µ–π—á–∞—Å –≤—Å—ë –≤—ã–≥–ª—è–¥–∏—Ç production-–∫—Ä–µ–ø–∫–æ. –û—Å—Ç–∞–ª–æ—Å—å —á—É—Ç—å-—á—É—Ç—å –¥–æ–±–∏—Ç—å –∑–∞—â–∏—Ç—É –∫—Ä–∞—ë–≤ –∏ –≤–∫–ª—é—á–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ ‚Äî –∏ –º–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å üöÄ